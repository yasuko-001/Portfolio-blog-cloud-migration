# portfolio-blog-cloud-migration

本リポジトリは、**ブログサービスをオンプレミス環境からAWSへクラウド移行する**ことを想定し、  
要件定義・設計・構築を行ったポートフォリオです。

IaCには **Terraform** を使用し、コストを抑えつつ、可用性・セキュリティ・運用性を考慮した  
AWSインフラ構成を設計・構築しました。

---

## 構成について
### 1. システム機能要件
- 検証用Webサイト／本番用Webサイトの **2環境を構築**  
  ※ 本リポジトリに含まれる Terraform コードは **検証環境用**
- アプリケーション実行基盤は **ECS（Fargate）**
- 高負荷時は **Auto Scaling（MIN 1 / MAX 2）** によりスケール
- デプロイ方式は **ローリングアップデート**

---

### 2. 非機能要件
- 独自ドメインを利用  
  （**Route 53** にて作成/管理）
- Webアクセスは **CloudFront 経由**
- **HTTPS通信のみ許可**（HTTPアクセスは不可）
- **SSL証明書（ACM）** を利用
- アプリケーションコンテナ（ECS Fargate）は  
  **パブリックIPを持たない構成**
- Webサイトは **2AZ構成**で冗長化
- **ALBによる負荷分散**を実施

---

### 3. 運用・保守
- **CloudWatch** により以下の一般的な監視項目を設定
  - ECS タスク状態
  - ALB ヘルスチェック
  - CPU / メモリ使用率
- エラー発生時は **SNSによるメール通知**
- データベースのバックアップは **1週間保持**
- 運用作業用として **EC2（運用サーバー）** を配置

---

### 4. セキュリティ
- 通信経路は  
  **CloudFront → ALB → ECS（Private Subnet）**
- **CloudFront + WAF** によりアクセス制御を実施
  - 国内IPのみ許可
  - 特定IPのみ通過可能
- 検証用Webサイトは  
  **社内など特定環境からのみアクセス可能**とする想定

---

### 5. CI/CD要件
- ソースコード管理：**GitHub**
- 各ブランチへのマージをトリガーに**CodePipeline** を起動
- ビルド／デプロイは **CodeBuild** を使用

---

## 注意事項

本構成は、**構築コストを考慮した最小限構成**です。  
実際の本番利用にあたっては、さらなるセキュリティ対策や運用設計の検討(NATゲートウェイ/RDSのマルチAZ化など)が必要です。

---

## 公開資料
1. 顧客向けクラウド提案資料  
2. Terraformコード
